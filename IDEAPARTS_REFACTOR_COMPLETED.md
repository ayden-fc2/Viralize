# IdeaParts æ­¥éª¤æ¡é‡æ„ - å®Œæˆæ€»ç»“

## âœ… å·²å®Œæˆå†…å®¹

### 1. ä»»åŠ¡ 1 & 2: é€»è¾‘å±‚å®ç°

**onLoad åˆå§‹åŒ–æ­¥éª¤çŠ¶æ€**
- âœ… æ ¹æ®é¡¹ç›®çŠ¶æ€è‡ªåŠ¨è·³è½¬åˆ°ç›¸åº”æ­¥éª¤
- âœ… æœ‰è§†é¢‘ â†’ æ­¥éª¤3 (currentStepIndex=2, maxUnlockedStep=2)
- âœ… æœ‰åœºæ™¯å›¾ â†’ æ­¥éª¤2 (currentStepIndex=1, maxUnlockedStep=1)  
- âœ… åªæœ‰äº§å“å›¾ â†’ æ­¥éª¤1 (currentStepIndex=0, maxUnlockedStep=0)
- âœ… æ–°ä¸Šä¼  â†’ æ­¥éª¤1 (currentStepIndex=0, maxUnlockedStep=0)

**åœºæ™¯å›¾ç‰‡ç”Ÿæˆå®Œæˆè‡ªåŠ¨è·³è½¬**
- âœ… åœºæ™¯å›¾ç”ŸæˆæˆåŠŸåè‡ªåŠ¨è§£é”æ­¥éª¤2
- âœ… è‡ªåŠ¨è·³è½¬åˆ°æ­¥éª¤2 (currentStepIndex=1)

### 2. ç»„ä»¶åŒ–æ¶æ„

**åˆ›å»ºäº†ä¸‰ä¸ªç‹¬ç«‹æ­¥éª¤ç»„ä»¶ï¼š**

#### Step1GenerateScene.vue
- æ˜¾ç¤ºå¤§å°ºå¯¸å›¾ç‰‡é¢„è§ˆ
- Loading çŠ¶æ€ï¼ˆå¸¦è¿›åº¦æ¡åŠ¨ç”»ï¼‰
- ç©ºçŠ¶æ€å±•ç¤º
- "ä¸‹ä¸€æ­¥"æŒ‰é’®
- Props: `loading`, `statusText`, `imageUrl`
- Events: `@next`

#### Step2EditContent.vue
- å°å°ºå¯¸å›¾ç‰‡é¢„è§ˆ
- Tab åˆ‡æ¢å™¨ï¼ˆåœºæ™¯æè¿°/å£æ’­æ–‡æ¡ˆï¼‰
- æ–‡æœ¬è¾“å…¥åŒºåŸŸï¼ˆæ”¯æŒåŒå‘ç»‘å®šï¼‰
- "ä¸Šä¸€æ­¥" å’Œ "ä¸‹ä¸€æ­¥" æŒ‰é’®
- Props: `imageUrl`, `description.sync`, `script.sync`, `currentTab.sync`
- Events: `@prev`, `@next`

#### Step3GenerateVideo.vue
- å¤§å°ºå¯¸å›¾ç‰‡/è§†é¢‘é¢„è§ˆ
- è§†é¢‘æ§åˆ¶æŒ‰é’®ï¼ˆæ’­æ”¾/ä¸‹è½½ï¼‰
- å†…å®¹é¢„è§ˆå¡ç‰‡
- "ä¸Šä¸€æ­¥" å’Œ "ç”Ÿæˆè§†é¢‘" æŒ‰é’®
- Props: `loading`, `statusText`, `imageUrl`, `videoUrl`, `description`, `script`, `canGenerate`, `buttonText`, `isDemo`
- Events: `@prev`, `@generate`, `@play`, `@download`

### 3. UI ç»“æ„é‡æ„

**é¡µé¢å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çŠ¶æ€æ  (u-status-bar)          â”‚
â”‚  å¯¼èˆªæ  (u-navbar)              â”‚  â† z-index: 100
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ­¥éª¤æ¡ (steps-container-fixed) â”‚  â† position: absolute, height: 56px, z-index: 99
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚
â”‚  ä¸»å†…å®¹å®¹å™¨                     â”‚  â† flex: 1, overflow-y: auto
â”‚  (main-content-container)      â”‚     margin-top: çŠ¶æ€æ  + navbar + æ­¥éª¤æ¡
â”‚                                â”‚
â”‚  v-if="currentStepIndex === 0" â”‚
â”‚    <Step1GenerateScene />      â”‚
â”‚                                â”‚
â”‚  v-if="currentStepIndex === 1" â”‚
â”‚    <Step2EditContent />        â”‚
â”‚                                â”‚
â”‚  v-if="currentStepIndex === 2" â”‚
â”‚    <Step3GenerateVideo />      â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. æ•°æ®æµè®¾è®¡

**çˆ¶ç»„ä»¶ (IdeaParts) ä¿ç•™ï¼š**
- `loading` - åŠ è½½çŠ¶æ€
- `statusText` - çŠ¶æ€æ–‡æœ¬
- `previewVisible` - è§†é¢‘é¢„è§ˆæ˜¾ç¤º
- `projectId` - é¡¹ç›® ID
- `currentStepIndex` - å½“å‰æ­¥éª¤ (0/1/2)
- `maxUnlockedStep` - æœ€å¤§å·²è§£é”æ­¥éª¤
- `mediaData` - åª’ä½“æ•°æ®å¯¹è±¡
  - `imageUrl`
  - `videoUrl`
  - `description`
  - `script`
  - `currentTab`

**æ•°æ®ä¼ é€’æ–¹å¼ï¼š**
- Props å‘ä¸‹ä¼ é€’æ•°æ®
- Events å‘ä¸Šè§¦å‘æ“ä½œ
- `.sync` ä¿®é¥°ç¬¦å®ç°åŒå‘ç»‘å®š

### 5. æ–¹æ³•å±‚å®Œå–„

**æ­¥éª¤æ§åˆ¶æ–¹æ³•ï¼š**
- âœ… `goToStep(stepIndex)` - è·³è½¬åˆ°æŒ‡å®šæ­¥éª¤ï¼ˆå¸¦é”å®šæ£€æŸ¥ï¼‰
- âœ… `completeStep1()` - å®Œæˆæ­¥éª¤1ï¼Œè§£é”æ­¥éª¤2
- âœ… `completeStep2()` - å®Œæˆæ­¥éª¤2ï¼Œè§£é”æ­¥éª¤3

**ä¿ç•™çš„åŸæœ‰æ–¹æ³•ï¼š**
- `onPlayTap()` - æ’­æ”¾è§†é¢‘
- `onDownloadTap()` - ä¸‹è½½è§†é¢‘
- `onGenerateTap()` - ç”Ÿæˆè§†é¢‘
- `createScene()` - ç”Ÿæˆåœºæ™¯å›¾ç‰‡
- `createVideo()` - ç”Ÿæˆè§†é¢‘
- `checkSceneTask()` - è½®è¯¢åœºæ™¯ä»»åŠ¡
- `checkVideoTask()` - è½®è¯¢è§†é¢‘ä»»åŠ¡

## ğŸ“Š åŠŸèƒ½æµç¨‹

### æ–°ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡æµç¨‹
```
1. ä¸Šä¼ äº§å“å›¾ 
   â†“
2. åˆ›å»ºé¡¹ç›® (INIT)
   â†“
3. åœç•™åœ¨æ­¥éª¤1ï¼Œè‡ªåŠ¨è°ƒç”¨ createScene()
   â†“
4. æ˜¾ç¤º Loading çŠ¶æ€
   â†“
5. åœºæ™¯å›¾ç”Ÿæˆå®Œæˆ
   â†“
6. è‡ªåŠ¨è§£é”æ­¥éª¤2 (maxUnlockedStep = 1)
   â†“
7. è‡ªåŠ¨è·³è½¬åˆ°æ­¥éª¤2 (currentStepIndex = 1)
   â†“
8. ç”¨æˆ·ç¼–è¾‘å†…å®¹
   â†“
9. ç‚¹å‡»"ä¸‹ä¸€æ­¥"ï¼Œè¿›å…¥æ­¥éª¤3
   â†“
10. ç‚¹å‡»"ç”Ÿæˆè§†é¢‘"
```

### å·²æœ‰é¡¹ç›®åŠ è½½æµç¨‹
```
Demo é¡¹ç›®ï¼ˆå·²æœ‰è§†é¢‘ï¼‰:
  åŠ è½½ â†’ è§£é”æ­¥éª¤3 â†’ ç›´æ¥è·³è½¬æ­¥éª¤3 â†’ æ˜¾ç¤ºè§†é¢‘å’Œå†…å®¹

æ™®é€šé¡¹ç›®ï¼ˆæœ‰åœºæ™¯å›¾ï¼‰:
  åŠ è½½ â†’ è§£é”æ­¥éª¤2 â†’ è·³è½¬æ­¥éª¤2 â†’ å¯ç¼–è¾‘å†…å®¹

æ™®é€šé¡¹ç›®ï¼ˆåªæœ‰äº§å“å›¾ï¼‰:
  åŠ è½½ â†’ åœç•™æ­¥éª¤1 â†’ ç­‰å¾…åœºæ™¯ç”Ÿæˆ
```

## ğŸ¨ UI ç‰¹ç‚¹

### æ­¥éª¤æ¡
- å›ºå®šåœ¨é¡¶éƒ¨ï¼Œé«˜åº¦ 56px
- æ˜¾ç¤ºä¸‰ä¸ªæ­¥éª¤çš„è¿›åº¦
- ç‚¹å‡»å·²è§£é”æ­¥éª¤å¯è·³è½¬
- ç‚¹å‡»æœªè§£é”æ­¥éª¤æ˜¾ç¤ºæç¤º

### æ­¥éª¤1 - ç”Ÿæˆåˆ†é•œå›¾
- å¤§å°ºå¯¸é¢„è§ˆåŒºï¼ˆmin-height: 600rpxï¼‰
- æ¸å˜èƒŒæ™¯ + é˜´å½±
- Loading åŠ¨ç”»ï¼ˆpulse + è¿›åº¦æ¡ï¼‰
- æŒ‰é’®ï¼š[ä¸‹ä¸€æ­¥ â†’]

### æ­¥éª¤2 - ç¼–è¾‘å†…å®¹
- å°å°ºå¯¸å›¾ç‰‡é¢„è§ˆï¼ˆ400rpxï¼‰
- Tab åˆ‡æ¢å™¨ï¼ˆç´«è‰²æ¸å˜èƒŒæ™¯è¡¨ç¤ºæ¿€æ´»ï¼‰
- è‡ªé€‚åº”é«˜åº¦æ–‡æœ¬æ¡†
- æŒ‰é’®ï¼š[â† ä¸Šä¸€æ­¥] [ä¸‹ä¸€æ­¥ â†’]

### æ­¥éª¤3 - ç”Ÿæˆè§†é¢‘
- å¤§å°ºå¯¸é¢„è§ˆ + è§†é¢‘æ§åˆ¶æŒ‰é’®
- å†…å®¹é¢„è§ˆå¡ç‰‡ï¼ˆæµ…ç´«è‰²èƒŒæ™¯ï¼‰
- Demo é¡¹ç›®éšè—ç”ŸæˆæŒ‰é’®
- æŒ‰é’®ï¼š[â† ä¸Šä¸€æ­¥] [ç”Ÿæˆè§†é¢‘/é‡æ–°ç”Ÿæˆ]

## ğŸ” æƒé™æ§åˆ¶

- âœ… æœªè§£é”æ­¥éª¤æ— æ³•è®¿é—®
- âœ… Demo é¡¹ç›®ç¦æ­¢ç”Ÿæˆè§†é¢‘
- âœ… å¯ä»¥è¿”å›å·²å®Œæˆçš„æ­¥éª¤ä¿®æ”¹
- âœ… Loading æœŸé—´ç¦æ­¢åˆ‡æ¢æ­¥éª¤

## ğŸ“ å›½é™…åŒ–

å·²æ·»åŠ çš„ç¿»è¯‘é”®ï¼š
- `ideaParts.step1` - ç”Ÿæˆåˆ†é•œå›¾
- `ideaParts.step2` - ç¼–è¾‘å†…å®¹  
- `ideaParts.step3` - ç”Ÿæˆè§†é¢‘
- `ideaParts.stepLocked` - è¯·å…ˆå®Œæˆå‰é¢çš„æ­¥éª¤

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### å¯é€‰ä¼˜åŒ–é¡¹ï¼š
1. æ·»åŠ æ­¥éª¤åˆ‡æ¢åŠ¨ç”»
2. æ·»åŠ æ­¥éª¤å®Œæˆåº¦æŒ‡ç¤º
3. æ·»åŠ è¿”å›ç¡®è®¤å¼¹çª—ï¼ˆé˜²æ­¢è¯¯æ“ä½œï¼‰
4. æ·»åŠ æ­¥éª¤è¿›åº¦ä¿å­˜ï¼ˆåˆ·æ–°é¡µé¢ä¿æŒçŠ¶æ€ï¼‰
5. ä¼˜åŒ–ç§»åŠ¨ç«¯é€‚é…

---

**å®Œæˆæ—¶é—´**: 2025-01-23  
**æ–‡ä»¶ä½ç½®**: 
- `/pages/IdeaParts/IdeaParts.vue` (ä¸»æ–‡ä»¶)
- `/pages/IdeaParts/components/Step1GenerateScene.vue`
- `/pages/IdeaParts/components/Step2EditContent.vue`
- `/pages/IdeaParts/components/Step3GenerateVideo.vue`

